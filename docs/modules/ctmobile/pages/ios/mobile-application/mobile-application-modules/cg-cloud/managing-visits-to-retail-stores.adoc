= Managing Visits to Retail Stores

In this article, learn how to create visits, perform tasks, and work
with the CG Cloud objects in the CT Mobile app.

:toc: :toclevels: 3

[[h2_1424984228]]
=== Basic CT Mobile Functionalities

Mobile users can work with the *Relate Store* and *Visit* records in the
same way as with records of any other offline objects.

use xref:ios/admin-guide/mini-layouts.adoc[mini-layouts] to create new records;

//tag::ios[]

add xref:ios/admin-guide/related-lists/custom-related-lists.adoc[custom related lists] to track
related records;

using xref:ios/mobile-application/ui/home-screen/index.adoc#h3_1761919763[the Reports and Dashboards
widget], display the store- and account-related analytics, for example,
the visit reports filtered by the status field on the Home screen;

using xref:ios/mobile-application/ui/home-screen/index.adoc#h3_1292798904[the Calendar widget], track
the upcoming visits in your schedule for a day;

working with _Retail Stores_ and _Visits_ objects in the Calendar,
Nearby Accounts, and Routes modules:

* retail stores are present in the *Retail Stores* tab;
* manage retail stores using list views and list view filters;

switch among records using reference fields or tapping the
image:/resources/Storage/project-ct-layouts-en/The-Minimize-button.png[/resources/Storage/project-ct-layouts-en/The-Minimize-button]
button to minimize the Visit record screen;

and more.

//tag::win[]

working with[.object]#Retail Stores# and
[.object]#Visits# objects in the Nearby Accounts and Routes
modules:

* retail stores are present in the *Retail Stores* tab;
* manage retail stores using list views and list view filters.

[[h2_1592083570]]
=== Creating Required Records to Complete Tasks

//tag::ios[]

To work with CG cloud tasks, administrators should prepare the *Visit*
record screen in the CT Mobile app by splitting the *Visit* record
layout into several tabs using CT Layouts. Administrators can
use https://help.customertimes.com/articles/ct-layouts-en/ct-layouts-templates[the
preconfigured template] or create a new one based on it. For more
information about CT Layouts, refer
to https://help.customertimes.com/articles/ct-layouts-en/about-ct-layouts[CT
Layouts Solution].

[NOTE] ==== If the CT Layouts is not in use, the mobile user
will see the
image:Link-Action-Plan-Template.png[]
button on the *Visit* record. Tapping the button triggers the
mini-layout to create the *Action Plan* record. In this case, mobile
users cannot work with the CG Cloud tasks, but admins can check that all
required records of[.object]#Action Plan ==== ,
[.object]#Retail Visit KPIs#, and various[.object]#Tasks# are generated.#

The administrator should configure the process of creating an *Action
Plan* record with the *Visit Execution* action plan type based on the
selected template. Assessment tasks should be linked to the *Action
Plan* and current *Visit* records, and the related *Retail Visit KPI*
records should be created for the *Inventory Check*, *Planogaram Check*,
*Promotion Check*, and *Other* task types to store the actual values
achieved as a result of the retail execution. One of the following
should be set up:

* specify a workflow to create the *Action Plan* and all related
records.
* add a button with the
https://help.customertimes.com/articles/ct-layouts-en/ct-layouts-editor-customize-tabs/a/h3_349797985[Create
Record] action type to create an *Action Plan* record and add a button
with the
https://help.customertimes.com/articles/ct-layouts-en/context-key-reference[$Class.generateCGCloudTasks]
context to generate all required records to the first tab of the *Visit*
record.



When configured, mobile users can create a visit:

. Go to the **Visit **menu item.
. Tap the desired *Visit* record or create a new one.
. Perform predefined actions to create the *Action Plan* and required
records.

The *Visit* record is created.
xref:managing-visits-to-retail-stores#h2_1374718576[Follow the
visit path] on the tabs to complete tasks.

//tag::win[]

To work with CG cloud tasks, administrators should configure the process
of creating an _Action Plan_ record with the _Visit Execution_ action
plan type based on the selected template. Assessment tasks should be
linked to the _Action Plan_ and current _Visit_ records, and the related
_Retail Visit KPI_ records should be created for the _Inventory Check_,
_Planogram Check_, _Promotion Check_, and _Other_ task types to store
the actual values achieved as a result of the retail execution.



When configured, mobile users can create a visit:

. Go to the *Visit* menu item.
. Tap the desired _Visit_ record or create a new one.
. Tap the
image:Link-Action-Plan-Template.png[]
button to link the _Action Plan_ record to the current _Visit_ record.
. In the mini-layout, fill out the required fields.
.. Select the *Status*.
.. Add *Action Plan Template Version*.
.. Enter the name.
.. Select a date.

image:Link-Action-Plan-to-Visit.png[]


. Tap *Create*.

The _Action Plan_ record is linked to the current _Visit_ record. Tap
the *Detailing* tab
xref:managing-visits-to-retail-stores#h2_1374718576[to work with
CG Cloud tasks].

//tag::ios[]

[[h2_535537278]]
=== Managing Visits in the Calendar Module

Mobile users may need to create ad-hoc visits on the go and make
unplanned visits to certain stores, for example, a rep may get a call
from a store that’s having an inventory issue, or a manager may inform
her about a promotion or upsell activity that she must complete on the
same day.



With the help of the xref:ios/mobile-application/mobile-application-modules/calendar/index.adoc[Calendar] module, a rep can
create a new visit by tapping on the *Retail Stores* tab and
drag-and-dropping a *Retail Store* record to the calendar grid.

The drag-and-drop action is prohibited in the month view.

* Each retail store has operating hours based on the time slots, and a
mobile user cannot create a visit to the retail store outside of
operating hours. Calendar cells outside the opening hours of a retail
store will be highlighted with a red color during the visit creation.
* The visit cannot be moved to the time slot out of operating hours.
* When copying or moving records of a day or week, if at least one
record on the new date does not fall into the opening hours of retail
stores, a warning is displayed
** Tap *Cancel* to cancel the action.
** Tap *OK* to copy or move only records fit within the opening hours.
* After creating a visit, mobile users should associate an action plan
template that contains the required task definitions and metric
associations to the visit.

image:CG-Cloud-Calendar.png[]

[[h2_1751285824]]
=== Viewing Upcoming Visits in the Nearby Accounts Module

Reps can track retail stores on the map and create new visits with the
help of the *Nearby Accounts* module.

* The *Retail Stores* tab is available in the left menu.
* To view retail stores on the map, the *Account Geolocation Field*
should be specified on
the xref:ios/admin-guide/ct-mobile-control-panel/ct-mobile-control-panel-general.adoc#h3_612123135[CT Mobile
Control Panel:
General]/xref:ios/admin-guide/ct-mobile-control-panel-new/ct-mobile-control-panel-general-new.adoc#h3_612123135[CT
Mobile Control Panel 2.0: General] tab. Alternatively, add the *Account
Full Address Field* (refer to
xref:ios/admin-guide/ct-mobile-control-panel/ct-mobile-control-panel-general.adoc#h3_1092547330[CT Mobile
Control Panel:
General]/xref:ios/admin-guide/ct-mobile-control-panel-new/ct-mobile-control-panel-general-new.adoc#h3_1092547330[CT
Mobile Control Panel 2.0: General]).
* Retail stores are presented with a square icon on the map. The color
for the retail store icon can be customized on the
xref:ios/admin-guide/ct-mobile-control-panel/ct-mobile-control-panel-color-settings.adoc[CT Mobile Control
Panel: Color Settings]/xref:ios/admin-guide/ct-mobile-control-panel-new/ct-mobile-control-panel-colors-new.adoc[CT
Mobile Control Panel 2.0: Colors] tab.
* To create a new visit, tap the mark.

[[h2_1880003381]]
=== Build Routes to Retail Stores in the Routes Module

In the xref:ios/mobile-application/mobile-application-modules/routes.adoc[Routes] module, mobile users can work with
retail stores the same way as with accounts.

* To view retail stores on the map, the Account geolocation field should
be specified on the *CT Mobile Control Panel: General* tab.
Alternatively, add the *Account Full Address Field* (refer to
xref:ios/admin-guide/ct-mobile-control-panel/ct-mobile-control-panel-general.adoc#h3_1092547330[CT Mobile
Control Panel:
General]/xref:ios/admin-guide/ct-mobile-control-panel-new/ct-mobile-control-panel-general-new.adoc#h3_1092547330[CT
Mobile Control Panel 2.0: General]).
* The visits to the retail stores are displayed on the map.
* Routes to retail stores can be built both on Apple or Google maps.

[[h2_1374718576]]
=== Performing Tasks during the Visit

We recommend learning more about
https://help.salesforce.com/s/articleView?id=sf.retail_concept_user_prereq_inv_check.htm&type=5[prerequisites
for creating an assessment task definition]. //tag::ios[]

[[h3_85077301]]
==== In-Store Survey

To perform an assessment task with the *In-Store Survey* type, for
example, to capture feedback from buyers,
the https://help.customertimes.com/articles/ct-layouts-en/ct-layouts-editor-add-sections-and-fields/a/h3_1996080511[Record
List] section with the *Survey Subject* records should be added to the
tab of the *Visit* record.

When a mobile user taps an invitation link in the *Invitation Link*
field, the survey opens in a pop-up. The *Status* field of the related
*Assessment Task* record has the *Not Started* value that will be
changed to *In Progress* and then, when all answers are captured, to
*Completed*.

[NOTE] ==== An Internet connection is required to take surveys.
Otherwise, a warning will be displayed. ====
image:Conduct-Survey-(en).png[]

[[h3_1867622910]]
==== Inventory Check

To perform an assessment task with the *Inventory Check* type, for
example, to count inventories of a product category,
the https://help.customertimes.com/articles/ct-layouts-en/ct-layouts-editor-add-sections-and-fields/a/h3_1996080511[Record
List] section with the *Retail Visit KPI* records and the
specific *Target Value* and *Actual Value* fields should be added to the
tab of the *Visit* record.

When a mobile user adds actual values, the *Status* field of the related
*Assessment Task* record has the *Not Started* value that will be
changed to *In Progress* and then, when all actual values are specified,
to *Completed*.

image:Inventory-Check-Task-(en).png[]

[[h3_582599340]]
==== Other

To perform an assessment task with the _Other_ type, for example, to
perform asset checks for refrigerator displays and shelves,
the https://help.customertimes.com/articles/ct-layouts-en/ct-layouts-editor-add-sections-and-fields/a/h3_1996080511[Record
List] section with the _Retail Visit KPI_ records and the
specific *Target Value* and *Actual Value* fields should be added to the
tab of the _Visit_ record.

When a mobile user adds actual values, the *Status* field of the related
_Assessment Task_ record has the *Not Started* value that will be
changed to *In Progress* and then, when all actual values are specified,
to *Completed*.

[[h3_481270469]]
==== Planogram Check

To perform an assessment task with the _Planogram Check_ type, for
example, to check share of shelf:

. The CT Vision module is activated and the CG Cloud Einstein provider
is set up. To activate the CT Vision module, refer to
the https://help.customertimes.com/articles/ct-vision-en/configuring-ct-mobile-for-work-with-ct-vision[Adding
CT Vision to the CT Mobile App] article.
. The
https://help.customertimes.com/articles/ct-layouts-en/ct-layouts-editor-add-sections-and-fields/a/h3_1996080511[Record
List] section with the
image:/resources/Storage/ct-vision_layouts.png[/resources/Storage/ct-vision_layouts]
button should be added to the tab of the *Visit* record.

When a mobile user taps
the image:/resources/Storage/ct-vision_layouts.png[/resources/Storage/ct-vision_layouts]
button she goes to the CT Vision module screen and sends the desired
photos for recognition. The *Visit* record tab will be minimized.



After closing the CT Vision module screen, the user returns to the
*Visit* tab, and the actual values for the corresponding products are
set to values according to the recognition. The *Status* field of the
related _Assessment Task_ record has the *Not Started* value that will
be changed to *In Progress* and then, when all product images are
recognized, to *Completed*.



image:Planogram-Check-(en).png[]

[[h3_190353401]]
==== Place Order

To perform an assessment task with the _Place Order_ type to capture
orders:

. The CT Orders module is configured. To integrate CG Cloud with CT
Orders, refer to
the https://help.customertimes.com/smart/project-order-module/cg-cloud-support[CG
Cloud Support] article.
. The
https://help.customertimes.com/articles/ct-layouts-en/ct-layouts-editor-add-sections-and-fields/a/h3_1996080511[Record
List] section with the _Order_ records should be added to the tab of the
_Visit_ record.

To create an order, a mobile user taps the *Plus* button, fills out the
mini layout, and taps the *Create* button. The *Order Cart* screen is
open. The *Visit* record tab will be minimized.



After closing the *Order Cart* screen, the user returns to the *Visit*
tab. The *Status* field of the related _Assessment Task_ record depends
on the value in the *Stage* field of the _Order_ record that is related
to the current _Visit_ record.



[width="100%",cols="^34%,^33%,^33%",]
|===
|*Order: Stage* |*Assessment Task: Status* |*Description*

|— |Not Started |There is no related _Order_ record to the current
_Visit_ record.

|On Hold |In Progress |If at least one related _Order_ record to the
current _Visit_ record has the *On Hold* value in the *Stage* field.

|Completed |Completed a|
If at least one related _Order_ record has the *Completed* value in the
*Stage* field.

[NOTE] ==== The *Completed* stage is received only
https://help.customertimes.com/smart/project-order-module/order-management/a/h3_1058643383[after
the sync process]. ====

|===

[[h3_696266799]]
==== Promotion Check

To perform an assessment task with the _Promotion Check_ type, for
example, to track customer reaction to new promotional offers,
the https://help.customertimes.com/articles/ct-layouts-en/ct-layouts-editor-add-sections-and-fields/a/h3_1996080511[Record
List] section with the _Retail Visit KPI_ records and the
specific *Target Value* and *Actual Value* fields should be added to the
tab of the _Visit_ record.

When a mobile user adds actual values, the *Status* field of the related
*Assessment Task* record has the *Not Started* value that will be
changed to *In Progress* and then, when all actual values are specified,
to *Completed*.

[[h3_1516408339]]
==== Task

To perform an assessment task with the _Task_ type,
the https://help.customertimes.com/articles/ct-layouts-en/ct-layouts-editor-add-sections-and-fields/a/h3_1996080511[Record
List] section with the _Task_ records and their Status field should be
added to the tab of the _Visit_ record.

The *Status* field of the related _Assessment Task_ record depends on
the value in the *Status* field of the _Task_ record.

* If the *Status* field has the [.apiobject]#IsClose# attribute
set as[.apiobject]#false#, the *Status* field of the related
_Assessment Task_ record has the *Not Started* value.
* If the *Status* field has the [.apiobject]#IsClose# attribute
set as[.apiobject]#true#, the *Status* field of the related
_Assessment Task_ record has the *Completed* value.

//tag::win[]

Work with CG Cloud records the same way as with the custom related
lists:

image:CG-Cloud-Detailing-Windows-en.png[]

[[h3_1444693483]]
==== Inventory Check

To perform an assessment task with the _Inventory Check_ type, for
example, to count inventories of a product category, create a _CTM
Settings_ record of the _CG Cloud_ record type with the following
parameters:

image:Inventory-Check-Settings-Windows-en.png[]



When a mobile user adds actual values, the *Status* field of the related
_Assessment Task_ record has the *Not Started* value that will be
changed to *In Progress* and then, when all actual values are specified,
to *Completed*.

[[h3_663667742]]
==== Planogram Check

To perform an assessment task with the _Planogram Check_ type, for
example, to check share of shelf:

. Create a _CTM Settings_ record of the _CG Cloud_ record type for the
_Promotion Check_ task type.
. The *Planogram* field will be filled out on the related _In-Store
Location_ record.

When a mobile user adds actual values, the *Status* field of the related
_Assessment Task_ record has the *Not Started* value that will be
changed to *In Progress* and then, when all actual values are specified,
to *Completed*.

[[h3_1247686820]]
==== Promotion Check

To perform an assessment task with the _Promotion Check_ type, for
example, to track customer reaction on new promotional offers, create
a _CTM Settings_ record of the _CG Cloud_ record type with the following
parameters:

image:Promotion-Check-Settings-Windows-en.png[]



When a mobile user adds actual values, the *Status* field of the related
_Assessment Task_ record has the *Not Started* value that will be
changed to *In Progress* and then, when all actual values are specified,
to *Completed*.

[[h3_1766789213]]
==== Other

To perform an assessment task with the _Other_ type, for example, to
perform asset checks for refrigerator displays and shelves, create
a _CTM Settings_ record of the _CG Cloud_ record type with the following
parameters:

image:Other-Settings-Windows-en.png[]



When a mobile user adds actual values, the *Status* field of the related
_Assessment Task_ record has the *Not Started* value that will be
changed to *In Progress* and then, when all actual values are specified,
to *Completed*.
