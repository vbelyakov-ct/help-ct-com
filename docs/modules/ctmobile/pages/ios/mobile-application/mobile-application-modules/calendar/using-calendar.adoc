= Using Calendar
:toc:
:toclevels:

xref:ios/mobile-application/mobile-application-modules/calendar/index.adoc[Add the Calendar module] to the CT Mobile main menu, configure the calendar in xref:ios/admin-guide/ct-mobile-control-panel/ct-mobile-control-panel-calendar.adoc[CT Mobile Control Panel: Calendar] / xref:ios/admin-guide/ct-mobile-control-panel-new/ct-mobile-control-panel-activities-new.adoc[CT Mobile Control Panel 2.0: Activities], and optionally set up xref:ios/admin-guide/custom-color-settings.adoc[custom color settings] to display activities on the calendar grid.

[[h2_1375710402]]
== Permissions

The mobile user can create, update, and delete records if the permissions are granted.

NOTE: The object's permissions specified on the xref:ios/admin-guide/ct-mobile-control-panel/ct-mobile-control-panel-offline-objects.adoc[CT Mobile Control Panel: Offline Objects] / xref:ios/admin-guide/ct-mobile-control-panel-new/ct-mobile-control-panel-offline-objects-new.adoc[CT Mobile Control Panel 2.0: Offline Objects] cannot be over link:https://help.salesforce.com/articleView?id=sf.users_profiles_object_perms.htm&type=5[the profile's permissions for objects].

[[h2_932150745]]
== Calendar Views

[[h3_1542564012]]
=== The day view

image::calendar-day-view.png[]

[[h3_243561528]]
=== The week view

TIP: Use either the *Open* button or double-tap the activity to go to the record layout.

image::calendar-week-view.png[]

[[h3_860090196]]
=== The month view

image::calendar-month-view.png[]

[[h3_632854949]]
=== List Views

* Tap the current list view to select another list view.
** To pin the selected list view as default, tap image:ios-calendar-pin-icon.jpg[25,25].
** Tap *Done* to save changes.
+
image::ios-calendar-list-view.jpg[]
* To add a new list view, tap image:ios-calendar-add-icon.jpg[25,25]. In the list view creation form, specify its parameters:
** *Filter name*: type desired list view name.
** *Filter conditions*:
*** tap image:ios-calendar-add-condition-icon.jpg[25,25] to add new list view condition
*** tap image:ios-calendar-filter-expand-icon.jpg[25,25] to expand list view conditions
** In the *Record preview*, tap image:ios-calendar-filter-records-select-icon.jpg[25,25] to select columns to display in the records list.
+
image::ios-calendar-filter-form.jpg[]
** Tap *Save* to create a list view.

=== Calendar Legend

Since CT Mobile 2.7, use a calendar legend with a list of colors for the record types of each [.object]#Activity# object, such as [.object]#Pharma Activity# or [.object]#Event#. In the case of a large number of records in the calendar grid, the legend can help you identify the status or type of each record.

* To set up color settings for the Activity objects, go to xref:ios/admin-guide/custom-color-settings.adoc[CT Mobile Control Panel: Color Settings] / xref:ios/admin-guide/ct-mobile-control-panel-new/ct-mobile-control-panel-colors-new.adoc[CT Mobile Control Panel 2.0: Colors].
* To show the calendar legend, tap the *Legend* button in the upper-left corner of the screen.
* You can move the calendar legend by drag-and-drop it on the screen.

image::calendar-legend.png[]

[[h2_1865396414]]
== Activity Management

The calendar can be scrolled back one year and one year forward, starting from the current date.

[[h3_1494438992]]
=== Actions with Activities

Manage activities using the following gestures and taps:

. Create an activity. If applied, select the record type and fill in xref:ios/admin-guide/mini-layouts.adoc[a mini-layout]:
* long tap the empty calendar area. In the month view, long tap any area on the calendar grid to create an activity. To create an all-day activity, long tap the *All day* section.
* tap one or several records from the list to select, tap and hold one of the selected records, and then drag and drop the records to a calendar cell. The activities will be created in the same order as they were marked;
* tap the image:66366208.png[25,25] button.
. Move an activity by long tap, until it highlights with the purple color, and move it to another cell.
. Pull the bottom border of the activity to change its duration. The functionality is available on the day and week view. Activities up to 30 min have a fixed height in the calendar equal to 30 minutes in the calendar grid.
. Double-tap an activity in the Calendar to open its details. All activities for a day are displayed on the left records list.

Important notes:

* If custom colors for the activities are not set, xref:ios/admin-guide/application-theme.adoc[the application theme] will be used to display activities in the calendar grid.
* The records, which have not been synchronized, may always be deleted no matter what access the profile is granted.
* If xref:ios/admin-guide/start-finish-functionality.adoc[the Start/Finish functionality] is enabled, a mobile user can move and delete records if the [.apiobject]#clm\__ActivityDoneAPI__c# attribute of the xref:ios/admin-guide/ct-mobile-control-panel/custom-settings/mobile-application-setup.adoc[Mobile Application Setup] record is false.

[[h3_1703324288]]
=== Mass Actions with Activities

The user can not only copy, move, or delete a single activity in the week view, but also select several activities to make an action. Mass actions are available for all record types of the objects that are available for the mobile user.

. Tap the title of the week.
. In the open pop-up, copy, move or delete all activities of a day or a week.

image::calendar-mass-actions.png[]

[[h4_645322804]]
==== Copy Activities

* All activities, which are available for the mobile user's profile, can be copied if the mobile user has permission to create records.
* Fields will be copied according to the xref:ios/admin-guide/ct-mobile-control-panel-new/ct-mobile-control-panel-activities-new.adoc#h4_1834463667[Fields to Copy] settings of the activity. If copied fields have default values, they will be applied after copying. For example, if the *Status* field has default value _Planned_, after copying a *Status* field with values _In Progress_, the value of the copied field will be set to _Planned_.
* The first day of the next week is suggested when the mobile user copies all activities of the selected week.

[[h4_1810560264]]
==== Move Activities

* Activities with updatable *Start Date* and *End Date* fields and the false value in the *Is Done* field are available to move if the mobile user has permission to edit records.
* Only values in the *Start Date* and *End Date* fields will be changed.
* The first day of the next week is suggested when the mobile user reschedules all activities of the selected week.

[[h4_753240742]]
==== Delete Activities

* Activities, which have not been synchronized, may always be deleted no matter what access the profile is granted.
* Activities may be deleted when the mobile user's profile has permission to delete records, permission to delete records specified on the xref:ios/admin-guide/ct-mobile-control-panel/ct-mobile-control-panel-offline-objects.adoc[CT Mobile Control Panel: Offline Objects] / xref:ios/admin-guide/ct-mobile-control-panel-new/ct-mobile-control-panel-offline-objects-new.adoc[CT Mobile Control Panel 2.0: Offline Objects] tab and the _Activity_ record has the false value in the *Is Done* field.

[[h3_1317929912]]
=== Datepicker and Calendar Agenda

When filling a custom field with the _Date/Time_ type, it is convenient to show datepicker and calendar agenda to help user selecting a date. To do that, add the _ctmobile.agenda_ value to the _Description_ attribute of this field, and the datepicker with calendar agenda will appear:

image::add-activity-mini-calendar.png[]


