//tag::main[]
= CT Mobile Description and Deployment
:toc:

[[h2_1981964373]]
== CT Mobile Description

CT Mobile is provided as three connected components:

* The managed package is available
https://appexchange.salesforce.com/appxListingDetail?listingId=a0N3000000B52vkEAB[on
Salesforceâ€™s AppExchange platform].
* The native CT Mobile app.
** The core of the CT Mobile app is designed to ensure offline operation
for most of the standard and custom objects.
** The additional modules enhance the functionality. The set of
available modules differs depending on the device platform and the CT
Mobile app version.
* AWS for the CT Presenter functionality.
//end::main[]
+
//tag::kotlin[]
+
include::partial$not-in-use-kotlin.adoc[]

//end::kotlin[]

//tag::main[]

image::CT-Mobile-Architecture.png[align="center"]

[[h2_426184834]]
== Deployment Steps

CT Mobile is deployed in the following order:

. <<CT Mobile Package Installation, Install the CT Mobile package>> in your Salesforce organization.
. <<Integration of CT Mobile with the Target System, Integrate the CT Mobile package>> with the target system.
. <<CT Mobile Solution Configuration, Configure the CT Mobile solution>>.
. <<CT Mobile App Installation, Install the CT Mobile app>> on your mobile device.
. <<Logging in to the CT Mobile app, Log in to the CT Mobile app>> and <<Synchronization in the CT Mobile app, perform the first synchronization>>.
. Set up desired integrations, for example, with CT Orders, CT Sign, CG Cloud, etc.

To find out more about integrations, go to xref:./ct-mobile-os-comparison.adoc#h3_839939660[Other modules availability] and xref:./ct-mobile-os-comparison.adoc#h2_303479492[Integrations].

[[h2_1760736937]]
== CT Mobile Package Installation

CT Mobile package is available for the following Salesforce editions:

* Enterprise
* Unlimited
* Force.com
* Developer
* Performance

CT Mobile is an add-on to Salesforce that is provided as an Appexchange ISV product and allows users to work with Salesforce offline.

xref:ctmobile:main/getting-started/installing-ct-mobile-package/index.adoc[Follow the guide] to install the CT Mobile package. After installation, xref:ctmobile:main/admin-guide/remote-site-settings.adoc[set up remote site settings].

[[h3_273727017]]
=== CT Mobile Package Description

[width="100%",cols="80%,20%",frame="none",grid="none"]
|===
a|
[[h4_1423918535]]
*UI Tools*

* xref:ctmobile:main/admin-guide/ct-mobile-control-panel/index.adoc[CT Mobile Control Panel] is a tool to provide a clear and convenient UI for CT Mobile settings. It is based on Angular and REST API. Since the CT Mobile package version 4.0, you can use xref:ctmobile:main/admin-guide/ct-mobile-control-panel-new/index.adoc[CT Mobile Control Panel 2.0] with more modern user interface and better performance.
* Application Editor is a tool to edit xref:ctmobile:main/ct-presenter/creating-clm-presentation/creating-clm-presentation-with-the-application-record-type/index.adoc[CLM presentations]. For xref:ctmobile:main/ct-presenter/creating-clm-presentation/creating-clm-presentation-with-the-plain-application-record-type/creating-plain-clm-presentation.adoc[plain CLM presentations], the xref:ctmobile:main/ct-presenter/creating-clm-presentation/creating-clm-presentation-with-the-plain-application-record-type/index.adoc[Plain Application Editor] is in use. It is located on Azure infrastructure with [.apiobject]#Node.JS/Mongo DB.#
* *Geolocation Center* is the core functionality to work with geolocation data. The administrator can view account geolocation, activity geolocation, and activity record details, and geo-trace mobile users in real-time in Salesforce.
* *Notification Center* is the core functionality for personal or mass sending PUSH messages to mobile users.

[[h4_559203458]]
*Salesforce Metadata*

* xref:ctmobile:main/admin-guide/metadata-checker/metadata-archive/index.adoc#h2_1854953360[Salesforce metadata] is responsible for the correct operation of CT Mobile workflows, lookup filters, and dashboards in offline mode.
//end::main[]

//tag::andr[]

* The CT Mobile app requests metadata using the link:https://developer.salesforce.com/docs/atlas.en-us.api_meta.meta/api_meta/meta_intro.htm[Metadata API] and other APIs with valid administrator credentials.

//end::andr[]

//tag::ios[]
//tag::win[]
//tag::kotlin[]

* The CT Mobile app requests metadata using the link:https://developer.salesforce.com/docs/atlas.en-us.api_meta.meta/api_meta/meta_intro.htm[Metadata API] and xref:ctmobile:main/admin-guide/metadata-checker/index.adoc#h2_1036043893[the metadata archive] and other APIs.

//end::kotlin[]
//end::win[]
//end::ios[]

//tag::main[]
[[h4_1504347972]]
*Mobile App Settings*
//end::main[]

//tag::andr[]
//tag::kotlin[]

* xref:ctmobile:main/admin-guide/ct-mobile-control-panel/custom-settings/index.adoc[Custom settings and custom metadata types] are used to store profile and list type settings for CT Mobile app customization specified on the tabs of the CT Mobile Control Panel.

//end::kotlin[]
//end::andr[]

//tag::ios[]
//tag::win[]

* xref:ctmobile:main/admin-guide/ct-mobile-control-panel/custom-settings/index.adoc[Custom settings, custom metadata types], and the xref:ctmobile:main/admin-guide/ct-mobile-control-panel/ctm-settings/index.adoc[CTM Settings] object are used to store profile and list type settings for CT Mobile app customization specified on the tabs of the CT Mobile Control Panel.
+
TIP: Use the
xref:ctmobile:main/admin-guide/ct-mobile-control-panel/ct-mobile-control-panel-tools/index.adoc#h3_1658362952[Refresh CTM Settings] button to align consistency between CTM Settings and Custom Settings in case of errors.

//end::win[]
//end::ios[]

//tag::main[]
[[h4_789622594]]
*Components*

* Apex classes and xref:ctmobile:main/admin-guide/ct-mobile-control-panel/custom-settings/trigger-settings.adoc[triggers] are used for managing CLM presentations and the content publishing routine.
* Visualforce and Lightning components for UI Tools.
* link:https://help.salesforce.com/articleView?id=sf.cl_about.htm&type=5[Custom labels] to provide multilingual support.

a|
image:Managed-Package-Structure.png[]

|===

[[h2_720612721]]
== Integration of CT Mobile with the Target System

The CT Mobile app is a solution that allows users to operate with the target system data in offline mode. The target system is a client Salesforce organization with the installed xref:ctcpg:ct-cpg-solution/index.adoc[CT CPG] or xref:ctpharma:about-ct-pharma-solution/index.adoc[CT Pharma] package.

To create a relationship between CT Mobile package components and a client system:

* Fill out the xref:ctmobile:main/admin-guide/ct-mobile-control-panel/ct-mobile-control-panel-general.adoc#h3_2141706831[Product Object API Name] and xref:ctmobile:main/admin-guide/ct-mobile-control-panel/ct-mobile-control-panel-general.adoc#h3_494016929[Reference Object API Name] fields on *CT Mobile Control Panel: General*, or xref:ctmobile:main/admin-guide/ct-mobile-control-panel-new/ct-mobile-control-panel-general-new.adoc#h3_351797814[Relate Contact to Multiple Accounts by Junction Object] in *CT Mobile Control Panel 2.0: General*.
* Create the lookup field to the required [.object]#Activity# object on the xref:ctmobile:main/ct-presenter/about-ct-presenter/clm-scheme/clm-applicationstats.adoc[Application Stats] object. In the case of using several [.object]#Activity# objects, the relationship field has to be created for each of them. A field with the lookup type for the [.object]#Activity# object will be automatically created for each [.object]#Activity# object specified on the xref:ctmobile:main/admin-guide/ct-mobile-control-panel/ct-mobile-control-panel-calendar.adoc[CT Mobile Control Panel: Calendar] (or xref:ctmobile:main/admin-guide/ct-mobile-control-panel-new/ct-mobile-control-panel-activities-new.adoc[CT Mobile Control Panel 2.0: Activities]).
* Create the lookup field to the specified _Product_ object on the xref:ctmobile:main/ct-presenter/about-ct-presenter/clm-scheme/clm-application.adoc[Application] object.
//end::main[]

//tag::ios[]

TIP: CT mobile allows identifying xref:ctmobile:main/admin-guide/system-label.adoc[the records created or edited in the CT Mobile app].

//end::ios[]

//tag::main[]

[[h2_1575473858]]
== CT Mobile Solution Configuration

We kindly ask you to perform all customization via xref:ctmobile:main/admin-guide/ct-mobile-control-panel/index.adoc[CT Mobile Control Panel] / xref:ctmobile:main/admin-guide/ct-mobile-control-panel-new/index.adoc[CT Mobile Control Panel 2.0] and set up a separate profile for a user who configures the system.

* The user should have the _Modify All Data_ and _Modify Metadata Through Metadata API Functions_ permission and access to all fields and objects.
* Assign the xref:ctmobile:main/getting-started/application-permission-settings.adoc[CT Mobile Administrator] permission set that contains all required permissions listed above and access to all required Apex classes for the correct operation of the CT Mobile package and CT Mobile app.

Assign the _CT Mobile User_ permission set to all profiles of users who will work with the CT Mobile app.

The CT Mobile solution provides offline record management and customized screen forms for the CT Mobile app to simplify and upscale the field sales force teams' work. In your Salesforce organization, you can:

* Customize the xref:ctmobile:main/mobile-application/ui/home-screen/index.adoc[Home Screen].

* Add objects and modules to xref:ctmobile:main/admin-guide/app-menu/index.adoc[the main menu].

* Specify available offline objects (refer to xref:ctmobile:main/admin-guide/ct-mobile-control-panel/ct-mobile-control-panel-offline-objects.adoc[CT Mobile Control Panel: Offline Objects] / xref:ctmobile:main/admin-guide/ct-mobile-control-panel-new/ct-mobile-control-panel-offline-objects-new.adoc[CT Mobile Control Panel 2.0: Offline Objects]), xref:ctmobile:main/admin-guide/related-lists/custom-related-lists.adoc[custom related lists], xref:ctmobile:main/mobile-application/ui/list-views.adoc[list views], xref:ctmobile:main/admin-guide/managing-offline-objects/index.adoc#h2_879469097[SOQL filters], lookup filters, and xref:ctmobile:main/mobile-application/ui/actions.adoc[actions]. xref:ctmobile:main/admin-guide/person-accounts.adoc[Person Accounts] are supported.
//end::main[]

//tag::ios[]

* Specify screen forms, such as xref:ctmobile:main/mobile-application/ui/compact-layout.adoc[compact layouts], xref:ctmobile:main/admin-guide/mini-layouts.adoc[mini layouts], xref:ctmobile:main/admin-guide/mobile-layouts/index.adoc[mobile layouts], xref:ctmobile:main/mobile-application/ui/mobile-application-field-types/index.adoc[custom fields display], xref:ctmobile:main/admin-guide/custom-color-settings.adoc[custom color settings], add xref:ctmobile:main/admin-guide/app-menu/index.adoc#h2_312093935[the custom icon for the main tab] of the record screen, and xref:ctmobile:main/admin-guide/app-menu/renaming-menu-items-and-modules.adoc[rename menu items].

* Configure CT Mobile workflows (refer to xref:ctmobile:main/admin-guide/ct-mobile-control-panel/ct-mobile-control-panel-workflows.adoc[CT Mobile Control Panel: Workflows] or xref:ctmobile:main/admin-guide/ct-mobile-control-panel-new/ct-mobile-control-panel-workflows-new.adoc[CT Mobile Control Panel 2.0: Workflows]).

* Configure sync options, such as xref:ctmobile:main/admin-guide/ct-mobile-control-panel/custom-settings/ct-mobile-replication.adoc[CT Mobile Replication], xref:ctmobile:main/admin-guide/managing-offline-objects/conflict-manager-control.adoc[Conflict Manager], xref:ctmobile:main/admin-guide/managing-offline-objects/online-records-fetching.adoc[online record fetching], and quick record sync (refer to xref:ctmobile:main/admin-guide/ct-mobile-control-panel/ct-mobile-control-panel-offline-objects.adoc#h3_202390671[CT Mobile Control Panel: Offline Objects] or xref:ctmobile:main/admin-guide/ct-mobile-control-panel-new/ct-mobile-control-panel-offline-objects-new.adoc#h4_202390671[CT Mobile Control Panel 2.0: Offline Objects]).

* Configure Geolocation Center and Notification Center.

//end::ios[]

//tag::andr[]
//tag::kotlin[]
//tag::win[]

* Specify screen forms, such as xref:ctmobile:main/mobile-application/ui/compact-layout.adoc[compact layouts], xref:ctmobile:main/admin-guide/mini-layouts.adoc[mini layouts], xref:ctmobile:main/admin-guide/mobile-layouts/index.adoc[mobile layouts], and xref:ctmobile:main/admin-guide/custom-color-settings.adoc[custom color settings].

//end::win[]
//end::kotlin[]
//end::andr[]

//tag::kotlin[]

* Configure xref:ctmobile:main/admin-guide/ct-mobile-replication-use-cases-and-steps.adoc[CT Mobile Replication].

//end::kotlin[]

//tag::ios[]
//tag::win[]

* Implement xref:ctmobile:main/ct-presenter/js-bridge-api/index.adoc[JS Bridge methods] in CLM presentations and set up xref:ctmobile:main/ct-presenter/the-remote-detailing-functionality/index.adoc[the Remote Detailing functionality].

//end::win[]
//end::ios[]

//tag::andr[]

* Implement xref:ctmobile:main/ct-presenter/js-bridge-api/index.adoc[JS Bridge methods] in CLM presentations.

//end::andr[]

//tag::main[]
[[h2_501372078]]
== CT Mobile App Installation

Before installation, read xref:ctmobile:main/ct-mobile-solution/technical-requirements-for-devices-and-network.adoc[the technical requirements]. To install the CT Mobile app, go to xref:ctmobile:main/getting-started/installing-the-ct-mobile-app/index.adoc[the article].

Contact the Customertimes team if you want to use the custom CT Mobile build.

[[h3_2054069844]]
=== CT Mobile app description

[width="100%",cols="80%,20%",frame="none",grid="none"]
|===
a| The core version consists of all main functionality and a set of modules interacting with each other via the application interface.

[[h4_1887042366]]
*Core and Modules*

* Go to xref:ctmobile:main/ct-mobile-solution/ct-mobile-os-comparison.adoc[CT Mobile OS Comparison] to view the core functionalities and learn about the difference between the CT Mobile app on iOS, Windows, or Android devices.

//end::main[]

//tag::ios[]

* xref:ctmobile:main/mobile-application/ui/home-screen/index.adoc[Status Indicator] suggests to a user to perform a synchronization. Depending on the number of modified records, added attachments or the date of the last synchronization, the color of the indicator as well as the frequency of its flashing will change.

//end::ios[]

//tag::main[]
* xref:ctmobile:main/mobile-application/synchronization/synchronization-launch/sync-logs.adoc[Specify the logging level] for saving sync logs of the CT Mobile app, which can be useful for the Customertimes Support team in case of issues with the mobile app.

* xref:ctmobile:main/mobile-application/application-settings/index.adoc[Application Settings] are intended to manage additional functions and control individual options.

a|
image:App-Structure.png[]

2+a|
[[h4_1840437629]]
*Customization*

It is possible to implement a custom process with a code in the CT Mobile app. For Enterprise clients, the following options are available:

* changing the code of the existing core functionalities or any modules, provided in a standard CT Mobile package;
* implementing new functionalities and modules.

The custom builds can be released as public or corporate applications.

The customization impacts the maintainability and evolution of the solution.


|===

[[h2_586849428]]
== Logging in to the CT Mobile app

xref:ctmobile:main/getting-started/logging-in/index.adoc[Log in to the CT Mobile app] using your Salesforce credentials to a production environment, sandbox instance, or custom domain.
//end::main[]

//tag::ios[]

CT Mobile is implemented with xref:ctmobile:main/getting-started/logging-in/oauth-2-0.adoc[OAuth 2.0] and supports xref:ctmobile:main/getting-started/logging-in/logging-in-with-single-sign-on.adoc[Single Sign-On].

//end::ios[]

//tag::kotlin[]
//tag::win[]

CT Mobile is implemented with the xref:ctmobile:main/getting-started/logging-in/oauth-2-0.adoc[OAuth 2.0] protocol.

//end::win[]
//end::kotlin[]

//tag::main[]
For the full functionality of CT Mobile on devices, it is necessary to allow CT Mobile access to certain data, e.g., geolocation data or access to the device gallery.

[[h2_1500017970]]
== Synchronization in the CT Mobile app

After the first logging in, perform the first synchronization to download all data and metadata to the mobile device.

* The exchange of data between the CT Mobile app and Salesforce servers is performed via Salesforce API with no intermediate proxies or infrastructure. All data exchange is performed via 256-bit SSL connect, TLS1.2.
* All uploaded data is stored in separate temporary storage. The current database will be replaced after the synchronization is complete to avoid data discard if synchronization is interrupted.

To learn more about the sync process and sync modes, refer to xref:ctmobile:main/mobile-application/synchronization/index.adoc[Synchronization].

xref:../mobile-application/synchronization/index.adoc[Example relative link]
//end::main[]