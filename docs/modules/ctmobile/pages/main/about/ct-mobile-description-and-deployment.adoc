= CT Mobile Description and Deployment

:toc: :toclevels: 3

[[h2_1981964373]]
=== CT Mobile Description

CT Mobile is provided as three connected components:​

* The managed package is available
https://appexchange.salesforce.com/appxListingDetail?listingId=a0N3000000B52vkEAB[on
Salesforce’s AppExchange platform].
* The native CT Mobile app.
** The core of the CT Mobile app is designed to ensure offline operation
for most of the standard and custom objects.
** The additional modules enhance the functionality. The set of
available modules differs depending on the device platform and the CT
Mobile app version.
* AWS for the CT Presenter functionality.

ifdef::kotlin[]

image:CT-Mobile-Architecture.png[]

[[h2__426184834]]
=== Deployment Steps

CT Mobile is deployed in the following order:

. xref:ct-mobile-description-and-deployment#h2_1760736937[Install
the CT Mobile package] in your Salesforce organization.
. xref:ct-mobile-description-and-deployment#h2_720612721[Integrate
the CT Mobile package] with the target system.
. xref:ct-mobile-description-and-deployment#h2_1575473858[Configure
the CT Mobile solution].
. xref:ct-mobile-description-and-deployment#h2__501372078[Install
the CT Mobile app] on your mobile device.
. xref:ct-mobile-description-and-deployment#h2_586849428[Log in to
the CT Mobile app] and
xref:ct-mobile-description-and-deployment#h2_1500017970[perform the
first synchronization].
. Set up desired integrations, for example, with CT Orders, CT Sign, CG
Cloud, etc.

To find out more about integrations, go
to xref:ct-mobile-os-comparison#h3_839939660[Other modules
availability] and xref:ct-mobile-os-comparison#h2__303479492[Integrations].

[[h2_1760736937]]
=== CT Mobile Package Installation

CT Mobile package is available for the following Salesforce editions:

* Enterprise
* Unlimited
* Force.com
* Developer
* Performance



CT Mobile is an add-on to Salesforce that is provided as an Appexchange
ISV product and allows users to work with Salesforce offline.

xref:installing-ct-mobile-package[Follow the guide] to install the
CT Mobile package. After installation,
xref:remote-site-settings[set up remote site settings].

[[h3__273727017]]
==== CT Mobile Package Description

[width="100%",cols="50%,50%",]
|===
a|
[[h4_1423918535]]
===== UI Tools

* xref:ct-mobile-control-panel[CT Mobile Control Panel]​ is a tool
to provide a clear and convenient UI for CT Mobile settings. It is based
on Angular and REST API. Since the , you can use
xref:ct-mobile-control-panel-new[CT Mobile Control Panel 2.0] with
more modern user interface and better performance.
* Application Editor​ is a tool to edit
xref:manual-creating-clm-presentation[CLM presentations]. For
xref:creating-plain-clm-presentation[plain CLM presentations],
the xref:plain-application-editor[Plain Application Editor] is in
use. It is located on Azure infrastructure
with [.apiobject]#Node.JS/Mongo DB.#
* **Geolocation Center**​ is the core functionality to work with
geolocation data. The administrator can view account geolocation,
activity geolocation, and activity record details, and geo-trace mobile
users in real-time in Salesforce.
* *Notification Center* is the core functionality for personal or mass
sending PUSH messages to mobile users.



[[h4__559203458]]
===== Salesforce Metadata

xref:metadata-archive#h2_1854953360[Salesforce metadata] is
responsible for the correct operation of CT Mobile workflows, lookup
filters, and dashboards in offline mode.

ifdef::andr[]

The CT Mobile app requests metadata using the
https://developer.salesforce.com/docs/atlas.en-us.api_meta.meta/api_meta/meta_intro.htm[Metadata
API] and other APIs with valid administrator credentials.

ifdef::ios,win,kotlin[]

The CT Mobile app requests metadata using the
https://developer.salesforce.com/docs/atlas.en-us.api_meta.meta/api_meta/meta_intro.htm[Metadata
API] and xref:metadata-checker#h2__1036043893[the metadata archive]
and other APIs.



[[h4_1504347972]]
===== Mobile App Settings

ifdef::andr,kotlin[]

xref:custom-settings[Custom settings and custom metadata types] are
used to store profile and list type settings for CT Mobile app
customization specified on the tabs of the CT Mobile Control Panel.

ifdef::ios,win[]

xref:custom-settings[Custom settings&#44; custom metadata types],
and the xref:ctm-settings[CTM Settings] object are used to store
profile and list type settings for CT Mobile app customization specified
on the tabs of the CT Mobile Control Panel.

[TIP] ==== Use the
xref:ct-mobile-control-panel-tools#h3__1658362952[Refresh CTM
Settings] button ==== to align consistency between CTM Settings and
Custom Settings in case of errors.



[[h4_789622594]]
===== Components

* Apex classes and xref:trigger-settings[triggers] are used for
managing CLM presentations and the content publishing routine.
* Visualforce and Lightning components for UI Tools.
* https://help.salesforce.com/articleView?id=sf.cl_about.htm&type=5[Custom
labels] to provide multilingual support.

a|
image:Managed-Package-Structure.png[]

|===

[[h2_720612721]]
=== Integration of CT Mobile with the Target System

The CT Mobile app is a solution that allows users to operate with the
target system data in offline mode. The target system is a client
Salesforce organization with the installed
https://help.customertimes.com/smart/project-ct-cpg/ct-cpg-solution[CT
CPG] or
https://help.customertimes.com/articles/project-ct-pharma/ct-pharma-solution[CT
Pharma] package.



To create a relationship between CT Mobile package components and a
client system:

* Fill out the
xref:ct-mobile-control-panel-general#h3__2141706831[Product Object
API Name] and
xref:ct-mobile-control-panel-general#h3_494016929[Reference Object
API Name] fields on *CT Mobile Control Panel: General*, or
xref:ct-mobile-control-panel-general-new#h4__351797814[Relate
Contact to Multiple Accounts by Junction Object] in *CT Mobile Control
Panel 2.0: General*.
* Create the lookup field to the required[.object]#Activity#
object on the xref:clm-applicationstats[Application Stats] object.
In the case of using several[.object]#Activity# objects, the
relationship field has to be created for each of them. A field with the
lookup type for the[.object]#Activity# object will be
automatically created for each[.object]#Activity# object
specified on the xref:ct-mobile-control-panel-calendar[CT Mobile
Control Panel: Calendar] (or
xref:ct-mobile-control-panel-activities-new[CT Mobile Control Panel
2.0: Activities]).
* Create the lookup field to the specified _Product_ object on the
xref:clm-application[Application] object.

ifdef::ios[][TIP] ==== CT mobile allows identifying
xref:system-label[the records created or edited in the CT Mobile
app]. ====

[[h2_1575473858]]
=== CT Mobile Solution Configuration

We kindly ask you to perform all customization
via xref:ct-mobile-control-panel[CT Mobile Control
Panel]/xref:ct-mobile-control-panel-new[CT Mobile Control Panel
2.0] and set up a separate profile for a user who configures the system.

* The user should have the _Modify All Data_ and _Modify Metadata
Through Metadata API Functions_ permission and access to all fields and
objects.
* Assign
the _xref:application-permission-settings.html#h2__1046081510[CT Mobile
Administrator]_ permission set that contains all required permissions
listed above and access to all required Apex classes for the correct
operation of the CT Mobile package and CT Mobile app.

Assign the _CT Mobile User_ permission set to all profiles of users who
will work with the CT Mobile app.



The CT Mobile solution provides offline record management and customized
screen forms for the CT Mobile app to simplify and upscale the field
sales force teams' work. In your Salesforce organization, you can:

Customize the xref:home-screen[Home Screen].

Add objects and modules to xref:app-menu[the main menu].

Specify available offline objects (refer to
xref:ct-mobile-control-panel-offline-objects[CT Mobile Control
Panel: Offline
Objects]/xref:ct-mobile-control-panel-offline-objects-new[CT Mobile
Control Panel 2.0: Offline Objects]),
xref:custom-related-lists[custom related lists],
xref:list-views[list views],
xref:managing-offline-objects#ManagingOfflineObjects-SOQLFilters[SOQL
filters], lookup filters, and
xref:actions[actions]. xref:person-accounts[Person
Accounts] are supported.

ifdef::ios[]

Specify screen forms, such as xref:compact-layout[compact layouts],
xref:mini-layouts[mini layouts], xref:mobile-layouts[mobile
layouts],
xref:fields-display-on-the-screen-of-the-mobile-application[custom
fields display], xref:custom-color-settings[custom color settings],
add xref:app-menu#h2__312093935[the custom icon for the main tab]
of the record screen, and
xref:renaming-menu-items-and-modules[rename menu items].

Configure CT Mobile workflows (refer to
xref:ct-mobile-control-panel-workflows[CT Mobile Control Panel:
Workflows] or xref:ct-mobile-control-panel-workflows-new[CT Mobile
Control Panel 2.0: Workflows]).

Configure sync options, such as xref:ct-mobile-replication[CT
Mobile Replication], xref:conflict-manager-control[Conflict
Manager], xref:online-records-fetching[online record fetching], and
quick record sync (refer
to xref:ct-mobile-control-panel-offline-objects#h3_202390671[CT
Mobile Control Panel: Offline Objects] or
xref:ct-mobile-control-panel-offline-objects-new#h4_202390671[CT
Mobile Control Panel 2.0: Offline Objects]).

Configure Geolocation Center and Notification Center.

ifdef::andr,kotlin,win[]

Specify screen forms, such as xref:compact-layout[compact layouts],
xref:mini-layouts[mini layouts], xref:mobile-layouts[mobile
layouts], and xref:custom-color-settings[custom color settings].

ifdef::kotlin[]

Configure xref:ct-mobile-replication-use-cases-and-steps[CT Mobile
Replication].

ifdef::ios,win[]

Implement xref:js-bridge-api[JS Bridge methods] in CLM
presentations and set up
xref:the-remote-detailing-functionality[the Remote Detailing
functionality].

ifdef::andr[]

Implement xref:js-bridge-api[JS Bridge methods] in CLM
presentations.

[[h2__501372078]]
=== CT Mobile App Installation

Before installation, read
xref:technical-requirements-for-devices-and-network[the technical
requirements]. To install the CT Mobile app, go to
xref:installing-the-ct-mobile-app[the article].

Contact the Customertimes team if you want to use the custom CT Mobile
build.

[[h3_2054069844]]
==== CT Mobile app description

[width="100%",cols="50%,50%",]
|===
a|

The core version consists of all main functionality and a set of modules
interacting with each other via the application interface.



[[h4__1887042366]]
===== Core and Modules

Go to xref:ct-mobile-os-comparison[CT Mobile OS Comparison] to view
the core functionalities and learn about the difference between the CT
Mobile app on iOS, Windows, or Android devices.

ifdef::ios[]

xref:home-screen[Status Indicator] suggests to a user to perform a
synchronization. Depending on the number of modified records, added
attachments or the date of the last synchronization, the color of the
indicator as well as the frequency of its flashing will change.

xref:sync-logs[Specify the logging level] for saving sync logs of
the CT Mobile app, which can be useful for the Customertimes Support
team in case of issues with the mobile app.

xref:application-settings[Application Settings] are intended to
manage additional functions and control individual options.

a|
image:App-Structure.png[]

a|
[[h4_1840437629]]
===== Customization

It is possible to implement a custom process with a code in the CT
Mobile app. For Enterprise clients, the following options are available:

* changing the code of the existing core functionalities or any modules,
provided in a standard CT Mobile package;
* implementing new functionalities and modules.

The custom builds can be released as public or corporate applications.

The customization impacts the maintainability and evolution of the
solution.

|
|===

[[h2_586849428]]
=== Logging in to the CT Mobile app

xref:logging-in[Log in to the CT Mobile app] using your Salesforce
credentials to a production environment, sandbox instance, or custom
domain.

ifdef::ios[]

CT Mobile is implemented with xref:oauth-2-0[OAuth 2.0] and
supports xref:logging-in-with-single-sign-on[Single Sign-On].

ifdef::kotlin,win[]

CT Mobile is implemented with the xref:oauth-2-0[OAuth
2.0] protocol.

For the full functionality of CT Mobile on devices, it is necessary to
allow CT Mobile access to certain data, e.g., geolocation data or access
to the device gallery.

[[h2_1500017970]]
=== Synchronization in the CT Mobile app

After the first logging in, perform the first synchronization to
download all data and metadata to the mobile device.

* The exchange of data between the CT Mobile app and Salesforce servers
is performed via Salesforce API with no intermediate proxies or
infrastructure. All data exchange is performed via 256-bit SSL connect,
TLS1.2
* All uploaded data is stored in separate temporary storage. The current
database will be replaced after the synchronization is complete to avoid
data discard if synchronization is interrupted.

To learn more about the sync process and sync modes, refer
to xref:synchronization[Synchronization].


