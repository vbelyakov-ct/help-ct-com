= Start/Finish Functionality

Enable the *Start/Finish functionality* to add the *Start* and *Finish*
buttons to the *Activity* details screen.

[[h2_269218413]]
=== Enable the Start/Finish Functionality

To enable the Start/Finish functionality:

[width="100%",cols="50%,50%",]
|===
|In CT Mobile Control Panel a|
. Go to xref:ctmobile:main/admin-guide/ct-mobile-control-panel/ct-mobile-control-panel-calendar.adoc[CT Mobile Control
Panel: Calendar].
. {blank}
. Turn on the *Enable Activity Planning*.
. Enable the *Start/Finish Functionality*. Select required options:
* **Lock/Unlock Record
**If enabled, the _Activity_ record will be available for editing only
after tapping *Start*. When a mobile user taps *Finish*, the _Activity_
becomes uneditable.
* **Capture Geoposition
**If enabled, when a mobile user taps the *Start* button, the current
geolocation will be written in the
xref:ct-mobile-control-panel-calendar#h3_717585460[Activity
Geolocation Field API Name] field.
//tag::kotlin[]

Not applicable.
* *Update Start/End Date Fields
*

If enabled, when a mobile user taps the *Start* or *Finish* buttons, the
xref:ct-mobile-control-panel-calendar#h3_1674628596[Activity Start
Date field] and
xref:ct-mobile-control-panel-calendar#h3_1391348303[Activity End
Date field] will be updated.
[NOTE] ==== If you assign a xref:ct-mobile-workflow[CT
Mobile Workflow] to the *Start* or *Finish* buttons, the *Capture
Geoposition* and *Update Start/End Date Fields* functionality will be
disabled even if these settings are applied. ====
. Click *Save*.
image:47752956.png[]

|In CT Mobile Control Panel 2.0 a|
. Go to xref:ctmobile:main/admin-guide/ct-mobile-control-panel-new/ct-mobile-control-panel-activities-new.adoc[CT Mobile
Control Panel 2.0: Activities].
. Select the required profile in the *Profile* picklist. To apply
settings to all the profiles, select *General Settings*.
. Switch on the *Enabled* toggle in the *Start/Finish Functionality*
section.
. Select required options:
.. *Capture Geolocation when Activity is Started*
If enabled, when a mobile user taps the *Start* button, the current
geolocation will be written in the
xref:ctmobile:main/admin-guide/ct-mobile-control-panel-new/ct-mobile-control-panel-activities-new.adoc#h4_1419137192[Geolocation
Field].
//tag::kotlin[]

Not applicable.
.. *Update Start/End Date when Starting/Ending Activity*
If enabled, when a mobile user taps the *Start* or *Finish* buttons, the
xref:ctmobile:main/admin-guide/ct-mobile-control-panel-new/ct-mobile-control-panel-activities-new.adoc#h4_1766544266[Start
Date field] and
xref:ctmobile:main/admin-guide/ct-mobile-control-panel-new/ct-mobile-control-panel-activities-new.adoc#h4_587549689[End Date
field] will be updated.
[NOTE] ==== If you assign a xref:ct-mobile-workflow[CT
Mobile Workflow] to the *Start* or *Finish* buttons, the **Capture
Geolocation when Activity is Started* * and **Update Start/End Date when
Starting/Ending Activity** functionality will be disabled even if these
settings are applied. ====
.. *Allow to Leave Unfinished Activity*
If enabled, the mobile user will be able to leave the
started _Activity_ record and then come back to finish
the _Activity_ record.
.. *Lock Activities for Editing after Finishing*
If enabled, the _Activity_ record will be available for editing only
after tapping *Start*. When a mobile user taps *Finish*, the _Activity_
becomes uneditable.
. Click *Save*.
image:ctm-control-panel-new-move-start-finish-functionality.png[]

|===



Now, the *Start* and *Finish* buttons are added to the *Activity* record
screen.

//tag::ios[]image:activity-start-button.png[]

[[h2_239706372]]
=== Leave the Unfinished Activity/Allow to Leave the Unfinished Activity

[width="100%",cols="50%,50%",]
|===
|In CT Mobile Control Panel a|
The mobile user can leave the started _Activity_ record when the
*Unfinished Activity Allowed* field is selected on the corresponding
xref:mobile-application-setup[Mobile Application Setup] record.

* Select this option on the
xref:ct-mobile-control-panel-calendar#h3_1856075785[CT Mobile
Control Panel: Calendar].
* The mobile user will be able to leave the started *Activity* record
and then come back to finish the *Activity* record.

The unfinished *Activity* records will be synchronized. To restrict the
unfinished record synchronizing:

. Create the *Started Activity* checkbox with the default
[.apiobject]#false# value on the[.object]#Activity#
object.
. Create the xref:ctmobile:main/admin-guide/ct-mobile-control-panel/ct-mobile-control-panel-workflows.adoc[CT Mobile
Workflow] on the *Start* button to change the
[.apiobject]#false# value of the checkbox to
[.apiobject]#true#.
. Create the CT Mobile Workflow on the *Finish* button to change the
[.apiobject]#true# value of the checkbox to
[.apiobject]#false#.
. Add xref:validation[the validation rule], which will be triggered
when the *Started Activity* checkbox will have the *true* value. For
example, _«We remind you that the activity will not sync until it is
completed»_.

The setup is complete.

|In CT Mobile Control Panel 2.0 a|
The mobile user can leave the started _Activity_ record when the
***Allow to Leave Unfinished Activity* **option is enabled.

* Select this option on the
xref:ctmobile:main/admin-guide/ct-mobile-control-panel-new/ct-mobile-control-panel-activities-new.adoc#h4_1904984675[CT
Mobile Control Panel: Activities].
* The mobile user will be able to leave the started *Activity* record
and then come back to finish the *Activity* record.

The unfinished *Activity* records will be synchronized. To restrict the
unfinished record synchronizing:

. Create the **Started Activity **checkbox with the default
[.apiobject]#false# value on the[.object]#Activity#
object.
. Create the xref:ctmobile:main/admin-guide/ct-mobile-control-panel-new/ct-mobile-control-panel-workflows-new.adoc[CT Mobile
Workflow] on the *Start* button to change the
[.apiobject]#false# value of the checkbox to
[.apiobject]#true#.
. Create the CT Mobile Workflow on the *Finish* button to change the
[.apiobject]#true# value of the checkbox to
[.apiobject]#false#.
. Add xref:validation[the validation rule], which will be triggered
when the *Started Activity* checkbox will have the *true* value. For
example, _«We remind you that the activity will not sync until it is
completed»_.

The setup is complete.



|===
