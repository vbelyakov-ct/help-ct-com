= Salesforce Winter &#39;20 Release: Critical Updates

Salesforce has announced two critical updates to be released at the
beginning of 2020. The administrator of the CT Mobile package must
perform additional configuration for the current profiles before the
update is released, otherwise, the CT Mobile package's proper
functioning will be impossible.

:toc: :toclevels: 3

[[h2__1033053122]]
=== Announced Critical Updates

[width="100%",cols="34%,33%,33%",]
|===
|*Require Customize Application permission for direct read access to
custom settings* a|
Currently, users without Customize Application permission can read
custom settings using different APIs that Salesforce provides. Following
the "secure by default" approach, read access for users without
Customize Application permission will be revoked with this update.



The system administrator needs to perform the actions that are described
in this article to allow access to custom settings to non-admin CT
Mobile users (via profiles or permission sets).

|3 January 2020

|*Require Customize Application permission for direct read access to
custom metadata types* a|
Currently, users without Customize Application permission can read
unprotected custom metadata types using different APIs that Salesforce
provides. Following the "secure by default" approach, read access for
users without Customize Application permission will be revoked with this
update.



The system administrator needs to perform the actions that are described
in this article to explicitly grant access to custom metadata types to
non-admin CT Mobile users (via profiles or permission sets).

|17 February 2020
|===



You can allow direct read access to custom settings and custom metadata
types by editing:

* Profile settings. Configure each profile separately, or you can edit a
permission set and assign it to all users you want to grant read access
to. 
* Permission Set settings. To avoid manually configuring a new
permission set, assign the preconfigured permission sets to users or
administrators and perform a full synchronization. 

[[h3_1457068314]]
==== Impacted Functionality

Since all settings for the CT Mobile package are stored within the
custom settings and custom metadata types, if the required permissions
are not set for appropriate profiles, any type of synchronization will
not be available.

[[h3__1936122314]]
==== Recommended Actions

To avoid possible issues, we recommend you perform a test configuration
for your package before the automatic updates take place. The update can
be manually activated and rolled back after testing.

Follow the instructions below to set up desired profiles and check
proper package functioning.

[width="100%",cols="50%,50%",]
|===
|image:info.png[] a|
*  Use the sandbox to perform testing.
* If you encounter any issues, please, address them to Salesforce
support immediately.

|===

[[h2__1632814593]]
=== Grant Permissions to Custom Settings

[[h3__215964704]]
==== Via Profile Settings

To set up permissions or direct read access to custom settings for a
profile:

. Go to *Setup → Users → Profiles*.
. Click *Edit* next to a profile you want to configure.
. Go to the *Enabled Custom Setting Definitions Access* section.
. Click *Edit*.
. Select the following *Available Custom Setting Definitions* from the
list:
* all package custom setting definitions with the CT Mobile prefix;
* all project-specific custom setting definitions (any additional
non-package custom settings added by the company's admin);
* the *Digital Signature Settings* custom setting definition (if the
*Documents* module is used on your project).

image:custom_set.png[]


. Click *Add*.
. Click *Save*.

The setup is complete. Assign the newly configured profile to the
required users.

[[h3__1992642846]]
==== Via Permission Set Settings

To set up permissions for direct read access to custom settings for a
permission set:

. Go to *Setup → Users → Permission Sets.*
. Select a permission set that you want to configure, or create a new
permission set.
. On the *Permission Set Overview* page that opens, scroll to the *Apps*
section and click *Custom Settings Definitions*.
. On the next page, click *Edit* next to the *Custom Settings
Definitions*.
. Select the following *Available Custom Setting Definitions* from the
list:
* all package custom setting definitions with the CT Mobile prefix;
* all project-specific custom setting definitions (any additional
non-package custom settings added by the company's admin);
* the *Digital Signature Settings* custom setting definition (if the
*Documents* module is used on your project).

image:custom_set.png[]


. Click *Add*.
. Click *Save*.

The setup is complete. Assign the newly configured permission set to the
required users.

[[h2__1934844072]]
=== Grant Permission to Custom Metadata Type

[[h3_1572484603]]
==== Via Profile Settings

To set permission for direct read access to custom metadata types for a
profile:

. Go to *Setup → Users → Profiles*.
. Select a profile.
. Go to the *Enable Custom Metadata Type Access* section.
. Click *Edit*.
. Select the following *Available Custom Metadata Types*:
.. package metadata types:
*[.apiobject]#CT Mobile.clm.CT Mobile.Replication#
*[.apiobject]#CT Mobile.clm.CT Mobile.Workflow#
*[.apiobject]#CT Mobile.clm.CT Mobile.Workflow Step#
.. all project-specific metadata types (any additional non-package
metadata types).

image:custom_meta_type.png[]


. Click *Add*.
. Click *Save*.

The setup is complete. Assign the newly configured profile to the
required users.

[[h3_1394622334]]
==== Via Permission Set Settings

To set up permission for direct read access to custom metadata types for
a permission set:

. Go to *Setup → Users → Permission Sets*.
. Select a permission set that you want to configure, or create a new
permission set.
. On the *Permission Set Overview* page that opens, scroll to the *Apps*
section and click *Custom Metadata Types*.
. On the next page, click *Edit* next to the *Custom Metadata Types*.
. Select the following *Available Custom Metadata Types*:
* package metadata types:
**[.apiobject]#CT Mobile.clm.CT Mobile.Replication#
**[.apiobject]#CT Mobile.clm.CT Mobile.Workflow#
**[.apiobject]#CT Mobile.clm.CT Mobile.Workflow Step#
* all project-specific metadata types (any additional non-package
metadata types).

image:custom_meta_type.png[]


. Click *Add*.
. Click *Save*.

The setup is complete. Assign the newly configured permission set to the
required users.
